'From MIT Squeak 0.9.4 (June 1, 2003) [No updates present.] on 24 April 2017 at 10:12:29 am'!DialogBoxMorph subclass: #ScratchFileChooserDialog	instanceVariableNames: 'scratchFrame list choosingFolder newFileTitle newFileName thumbnailFrameMorph thumbnailMorph authorLabelMorph authorMorph commentLabelMorph commentMorph readingScratchFile type newTitleBin fCursorOut '	classVariableNames: 'LastFolderForType UserHomeFolder '	poolDictionaries: ''	category: 'Scratch-UI-Dialogs'!!KeyPadMorph methodsFor: 'accessing' stamp: 'sk 4/24/2017 10:02'!input: aValue

	| curPosition |
	targetField contents: lastContents.	" To avoid the leading character to be '0' except a decimal. "
	((aValue = 46) not & lastContents = '0') ifTrue: [
		targetField selectAll].

	targetField insertCharacter: aValue.	lastContents _ targetField contents.
	curPosition _ targetField cursorPosition.
	World activeHand newKeyboardFocus: targetField.
	targetField moveCursorAt: curPosition.
! !!ScratchFileChooserDialog methodsFor: 'initialization' stamp: 'sk 4/24/2017 09:49'!initialize	"Create the file chooser dialog box"	super initialize.	choosingFolder _ false.	scratchFrame _ nil.	readingScratchFile _ false.	fCursorOut _ true.	newTitleBin _ AlignmentMorph newRow		centering: #center;		color: Color transparent.	buttonRow hResizing: #spaceFill.	TabletMode ifTrue: [		mainColumn orientation: #horizontal.		newTitleBin orientation: #vertical].	self withButtonsForYes: false no: false okay: true cancel: true.! !!ScratchFileChooserDialog methodsFor: 'stepping and presenter' stamp: 'sk 4/24/2017 09:51'!step	| current |	newFileName ifNil: [^ self].	current _ World activeHand keyboardFocus.	(current isKindOf: StringFieldMorph) ifTrue: [		]	ifFalse: [		fCursorOut ifTrue: [			World activeHand firstClickEvent ifNotNil: [				self cancelled]]].! !!ScratchFileChooserDialog methodsFor: 'event handling' stamp: 'sk 4/21/2017 12:35'!handlesMouseOver: evt	^ true! !!ScratchFileChooserDialog methodsFor: 'event handling' stamp: 'sk 4/24/2017 09:50'!mouseEnter: evt	"Handle a mouse down event. This default implementation does nothing."	fCursorOut _ false.! !!ScratchFileChooserDialog methodsFor: 'event handling' stamp: 'sk 4/24/2017 09:50'!mouseLeave: evt	"Handle a mouse down event. This default implementation does nothing."	fCursorOut _ true.! !!ScratchNoteSelector methodsFor: 'initialization' stamp: 'sk 4/24/2017 09:52'!setUpNoteDisplay: aSize	| height rectMorph |	height _ aSize within:aSize and: 40.	"set up the rect morph which holds the note text"	rectMorph _ BorderedMorph new		color: Color white;		position: self bottomLeft - (0@2);		extent: (self width @ height).	self extent: self fullBounds extent.	self addMorph: rectMorph.	labelMorph _ StringMorph new.	labelMorph font: (ScratchFrameMorph getFont: #Label).	labelMorph position: rectMorph position + (0@4).	rectMorph addMorph: labelMorph.	self extent: self fullBounds extent.	self updateNoteDisplay: 60.! !